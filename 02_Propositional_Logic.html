<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2015-08-18 Tue 21:25 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Logic and Proof</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="[[http://www.andrew.cmu.edu/user/avigad][Jeremy Avigad]]Jeremy Avigad, Robert Y. Lewis,  Floris van Doorn" />
<link rel="stylesheet" href="css/tutorial.css"/>
<link rel="stylesheet" href="css/code.css"/>
<script type="text/javascript" charset="utf-8">if(!window.PolymerGestures) { var head = document.getElementsByTagName('head')[0]; var js = document.createElement("script"); js.type = "text/javascript"; js.src = "//cdn.jsdelivr.net/polymer.platform/0.4.2/platform.js"; head.appendChild(js); } </script>
<link rel='import' href='juicy-ace-editor.html'/>
</head>
<body>
<div id="content">
<h1 class="title">Logic and Proof</h1>

<div id="outline-container-orgheadline15" class="outline-2">
<h2 id="orgheadline15"><span class="section-number-2"> 2</span> Propositional Logic</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3"> 2.1</span> A Puzzle</h3>
<div class="outline-text-3" id="text-1-1">
<p>
The following puzzle, titled "Malice and Alice" is from George J. Summers, <i>Logical Deduction
Puzzles</i>. 
</p>

<hr  />
<p>
Alice, Alice's husband, their son, their daughter, and Alice's brother
were involved in a murder. One of the five killed one of the other
four. The following facts refer to the five people mentioned:
</p>

<ol class="org-ol">
<li>A man and a woman were together in a bar at the time of the murder.</li>
<li>The victim and the killer were together on a beach at the time of
the murder.</li>
<li>One of Alice's children was alone at the time of the murder.</li>
<li>Alice and her husband were not together at the time of the murder.</li>
<li>The victim's twin was not the killer.</li>
<li>The killer was younger than the victim.</li>
</ol>

<p>
Which one of the five was the victim?
</p>
<hr  />

<p>
Take the time to try to work out a solution. Summers' book offers the
following hint: "First find the locations of two pairs of people at
the time of the murder, and then determine who the killer and the
victim were so that no condition is contradicted."
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3"> 2.2</span> A Solution</h3>
<div class="outline-text-3" id="text-1-2">
<p>
If you have worked on the puzzle, you may have noticed a few
things. First, it is helpful to draw a diagram, and be systematic
about searching for an answer. The number of characters, locations,
and attributes (murderer, victim) is finite, so that there are only
finitely many possible "states of affairs" that need to be
considered. The numbers are also small enough so that systematic
search through all the possibilities, though tedious, will eventually
get you to the right answer.
</p>

<p>
Another thing that you may have noticed is that the question seems to
presuppose that there is a unique answer to the question, which is to
say, of all the states of affairs that meet the list of conditions,
there is only one person who can possibly be the killer. <i>A priori</i>,
without that assumption, there is a difference between finding <i>some</i>
person who could have been the victim, and show that that person <i>had</i>
to be the victim. Thus, there is a difference between exhibiting some
state of affairs that meets the criteria, and proving that one of the
characters <i>had</i> to be the victim, which is to say, demonstrating
conclusively that no other solution is possible.
</p>

<p>
The published solution in the book not only produces a state of
affairs that meets the criterion, but at the same time proves that
this is the only one that does so. It is quoted below, in full.
</p>

<hr  />
<p>
From <code>[1]</code>, <code>[2]</code>, and <code>[3]</code>, the roles of the five people were as
follows: Man and Woman in the bar, Killer and Victim on the beach, and
Child alone. 
</p>

<p>
Then, from <code>[4]</code>, either Alice's husband was in the bar and Alice was
on the beach, or Alice was in the bar and Alice's husband was on the beach.
</p>

<p>
If Alice's husband was in the bar, the woman he was with was his
daughter, the child who was alone was his son, and Alice and her
brother were on the beach. Then either Alice or her brother was the
victim; so the other was the killer. But, from <code>[5]</code>, the victim had a
twin, and this twin was innocent. Since Alice and her brother could
only be twins to each other, this situation is impossible. Therefore
Alice's husband was not in the bar.
</p>

<p>
So Alice was in the bar. If Alice was in the bar, she was with her
brother or her son.
</p>

<p>
If Alice was with her brother, her husband was on the beach with one
of the two children. From <code>[5]</code>, the victim could not be her husband,
because none of the others could be his twin; so the killer was her
husband and the victim was the child he was with. But this situation
is impossible, because it contradicts <code>[6]</code>. Therefore, Alice was not
with her brother in the bar. 
</p>

<p>
So Alice was with her son in the bar. Then the child who was alone was
her daughter. Therefore, Alice's husband was with Alice's brother on
the beach. From previous reasoning, the victim could not be Alice's
husband. But the victim could be Alice's brother because Alice could
be his twin. 
</p>

<p>
So <i>Alice's brother was the victim</i> and Alice's husband was the
killer.
</p>
<hr  />

<p>
This argument relies on some "extra logical" elements, for example,
that a father cannot be younger than his child, and that a parent and
his or her child cannot be twins. But there are also a number of
common logical terms, and associated patterns of inference. In the
next section, we will focus on some of the rules governing the terms
"and," "or," "not," and "if &#x2026; then". Following the model described
in the introduction, each such construction will be analyzed on three
levels:
</p>
<ul class="org-ul">
<li>the way it is used and employed in informal (mathematical) arguments</li>
<li>a formal, symbolic representation</li>
<li>the implementation in <i>Lean</i></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3"> 2.3</span> Fundamental Rules of Inference</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3"><span class="section-number-4"> 2.3.1</span> Implication</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
The first pattern of reasoning we will discuss, involving "if
&#x2026; then," may be the most confusing, because its use is largely
implicit in the solution above. Consider the fourth paragraph. Spelled
out in greater detail, the inference runs as follows:
</p>

<hr  />
<p>
If Alice was in the bar, Alice was with her brother or son.
</p>

<p>
Alice was in the bar.
</p>

<p>
Alice was with her brother or son.
</p>
<hr  />

<p>
This rule is sometimes known as <i>modus ponens</i>, or "implication
elimination," since it tells us how to use an implication in an
argument. In a system of natural deduction, it is expressed as
follows:
</p>

<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_46e555e7ba4fd0b0cb485c3438348fc25fca3f7d.png" alt="\begin{center}
\AXM{A \to B}
\AXM{A}
\RL{$\mathord{\to}\mathrm{E}$}
\BIM{B}
\DP
\end{center}
" /></p>
</div>
<p>
The way to read this is as follows: if you have a proof of <img src="ltxpng/02_Propositional_Logic.org.temp_de9a2541df57adb5d4ef809a251381d580bbf931.png" alt="$A \to
B$" />, possibly from some hypotheses, and a proof of <img src="ltxpng/02_Propositional_Logic.org.temp_cfd84d0cf5b16a0279ed47d0d5204f0d029e1098.png" alt="$A$" />, possibly
from hypotheses, then combining these yields a proof of <img src="ltxpng/02_Propositional_Logic.org.temp_d97dc406cb5606cb9d7e849c11adc553d50b79a6.png" alt="$B$" />, from the
hypotheses in both subproofs.
</p>

<p>
In Lean, the inference is expressed as follow:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-1' mode="ace/mode/lean" readonly="true">variables (A B : Prop)
premises (H₁ : A → B) (H₂ : A)

example : B := 
show B, from H₁ H₂
</juicy-ace-editor><div id='lean-full-code-1' style='display:none'>variables (A B : Prop)
premises (H₁ : A → B) (H₂ : A)

example : B := 
show B, from H₁ H₂
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-1').text());">Try it yourself &raquo;</button></div>
</div>
<p>
The first command declares two variables, <code>A</code> and <code>B</code>, ranging over
propositions. The second line introduces two premises, namely, <code>A → B</code>
and <code>A</code>. The next line asserts, as an example, that <code>B</code> follows from
the premises. The proof is written simply <code>H₁ H₂</code>: think of this as
the premise <code>H₁</code> "applied to" the premise <code>H₂</code>. (You can enter <code>H₁</code> by
typing <code>H\_1</code>. It is conventional to use the letter <code>H</code> for a
hypothesis, but you can use any reasonable alphanumeric
identifier. The name <code>H1</code> is a different from <code>H₁</code>, but also a
reasonable choice.)
</p>

<p>
The rule for proving an "if &#x2026; then" statement is more
subtle. Consider the beginning of the third paragraph, which argues
that if Alice's husband was in the bar, then Alice or her brother
was the victim. Abstracting away some of the details, the argument has
the following form:
</p>

<hr  />
<p>
Suppose Alice's husband was in the bar.
</p>

<p>
Then &#x2026;
</p>

<p>
Then &#x2026;
</p>

<p>
Then Alice or her brother was the victim.
</p>

<p>
Thus, if Alice's husband was in the bar, then Alice or her brother was the victim.
</p>
<hr  />
<p>
This is a form of <i>hypothetical reasoning</i>. On the supposition that
<img src="ltxpng/02_Propositional_Logic.org.temp_cfd84d0cf5b16a0279ed47d0d5204f0d029e1098.png" alt="$A$" /> holds, we argue that <img src="ltxpng/02_Propositional_Logic.org.temp_d97dc406cb5606cb9d7e849c11adc553d50b79a6.png" alt="$B$" /> holds as well. If we have successful, we
have shown that <img src="ltxpng/02_Propositional_Logic.org.temp_cfd84d0cf5b16a0279ed47d0d5204f0d029e1098.png" alt="$A$" /> implies <img src="ltxpng/02_Propositional_Logic.org.temp_d97dc406cb5606cb9d7e849c11adc553d50b79a6.png" alt="$B$" />, without supposing <img src="ltxpng/02_Propositional_Logic.org.temp_cfd84d0cf5b16a0279ed47d0d5204f0d029e1098.png" alt="$A$" />. In other
words, the temporary assumption that <img src="ltxpng/02_Propositional_Logic.org.temp_cfd84d0cf5b16a0279ed47d0d5204f0d029e1098.png" alt="$A$" /> holds is "canceled" by
making it explicit in the conclusion.
</p>

<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_77512ca0d4ef46d58fa78c607991904e68305e88.png" alt="\begin{center}
\AXM{}
\UIM{H : A}
\noLine
\UIM{\vdots}
\noLine
\UIM{\psi}
\RL{$\mathord{\to}\mathrm{I}, H$}
\UIM{A \to B}
\DP
\end{center}
" /></p>
</div>
<p>
The hypothesis is given the label <img src="ltxpng/02_Propositional_Logic.org.temp_5036dd76902b97a998bc024eb115e3b1e701dbb8.png" alt="$H$" />; when the introduction rule is
applied, the label <img src="ltxpng/02_Propositional_Logic.org.temp_5036dd76902b97a998bc024eb115e3b1e701dbb8.png" alt="$H$" /> indicates the relevant hypothesis. The line
over the hypothesis indicates that the assumption has been "canceled"
by the introduction rule.
</p>

<p>
In Lean, this inference takes the following form:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-2' mode="ace/mode/lean" readonly="true">variables (A B : Prop)

example : A → B :=
assume H : A,
show B, from sorry
</juicy-ace-editor><div id='lean-full-code-2' style='display:none'>variables (A B : Prop)

example : A → B :=
assume H : A,
show B, from sorry
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-2').text());">Try it yourself &raquo;</button></div>
</div>
<p>
To prove <code>A → B</code>, we assume <code>A</code>, with label <code>H</code>, and show <code>B</code>. Here,
the word <code>sorry</code> indicates that the proof is omitted. In this case,
this is necessary; since <code>A</code> and <code>B</code> are arbitrary propositions, there
is no way to prove <code>B</code> from <code>A</code>. In general, though, <code>A</code> and <code>B</code> will
be compound expressions, and you are free to use the hypothesis <code>H :
A</code> to prove <code>B</code>.
</p>

<p>
Using <code>sorry</code>, we can illustrate the implication elimination rule
alternatively as follows:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-3' mode="ace/mode/lean" readonly="true">variables (A B : Prop)

example : B :=
have H₁ : A → B, from sorry,
have H₂ : A, from sorry,
show B, from H₁ H₂
</juicy-ace-editor><div id='lean-full-code-3' style='display:none'>variables (A B : Prop)

example : B :=
have H₁ : A → B, from sorry,
have H₂ : A, from sorry,
show B, from H₁ H₂
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-3').text());">Try it yourself &raquo;</button></div>
</div>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-4">
<h4 id="orgheadline4"><span class="section-number-4"> 2.3.2</span> Conjunction</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
As was the case for implication, other logical connectives are
generally characterized by their <i>introduction</i> and <i>elimination</i>
rules. The former show how to establish a claim involving the
connective, while the latter show how to use such a claim to derive
others.
</p>

<p>
Let us consider, for example, the case of conjunction, that is, the
word "and." Informally, we establish a conjunction by establishing
each conjunct. For example, informally we might argue:
</p>
<hr  />
<p>
Alice's brother was the victim.
</p>

<p>
Alice's husband was the killer.
</p>

<p>
Therefore Alice's brother was the victim and Alice's husband was the
killer.
</p>
<hr  />
<p>
The inference seems superfluous, since the word "and" simply combines the
two assertions into one, and informal proofs often downplay the
distinction. In natural deduction, the rule reads as follows:
</p>

<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_e9d7aa9ab635288efefe04fab432a2a0c8c41cde.png" alt="\begin{center}
\AXM{A}
\AXM{B}
\RL{$\mathord{\wedge}\mathrm{I}$}
\BIM{A \wedge B}
\DP
\end{center}
" /></p>
</div>
<p>
In Lean, the rule is denoted <code>and.intro</code>:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-4' mode="ace/mode/lean" readonly="true">variables (A B : Prop)

example : A ∧ B :=
have H₁ : A, from sorry,
have H₂ : B, from sorry,
show A ∧ B, from and.intro H₁ H₂
</juicy-ace-editor><div id='lean-full-code-4' style='display:none'>variables (A B : Prop)

example : A ∧ B :=
have H₁ : A, from sorry,
have H₂ : B, from sorry,
show A ∧ B, from and.intro H₁ H₂
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-4').text());">Try it yourself &raquo;</button></div>
</div>

<p>
The two elimination rules allow us to extract the two components:
</p>
<hr  />
<p>
Alice's husband was in the bar and Alice was on the beach.
</p>

<p>
So Alice's husband was in the bar.
</p>
<hr  />
<p>
Or:
</p>
<hr  />
<p>
Alice's husband was in the bar and Alice was on the beach.
</p>

<p>
So Alice's was on the beach.
</p>
<hr  />
<p>
In natural deduction, these patterns are rendered as follows:
</p>

<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_4163d798cb8693449cd79dd382e2644b4b647154.png" alt="\begin{center}
\AXM{A \wedge B}
\RL{$\mathord{\land}\mathrm{E_1}$}
\UIM{A}
\DP
\quad
\AXM{A \wedge B}
\RL{$\mathord{\land}\mathrm{E_2}$}
\UIM{B}
\DP
\end{center}
" /></p>
</div>
<p>
In Lean, the inferences are known as <code>and.left</code> and <code>and.right</code>:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-5' mode="ace/mode/lean" readonly="true">variables (A B : Prop)

example : A :=
have H : A ∧ B, from sorry,
show A, from and.left H

example : B :=
have H : A ∧ B, from sorry,
show B, from and.right H
</juicy-ace-editor><div id='lean-full-code-5' style='display:none'>variables (A B : Prop)

example : A :=
have H : A ∧ B, from sorry,
show A, from and.left H

example : B :=
have H : A ∧ B, from sorry,
show B, from and.right H
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-5').text());">Try it yourself &raquo;</button></div>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-4">
<h4 id="orgheadline5"><span class="section-number-4"> 2.3.3</span> Negation and Falsity</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
In logical terms, showing "not A" amounts to showing that A leads to a
contradiction. For example:
</p>
<hr  />
<p>
Suppose Alice's husband was in the bar. 
</p>

<p>
&#x2026;
</p>

<p>
This situation is impossible. 
</p>

<p>
Therefore Alice's husband was not in the bar.
</p>
<hr  />
<p>
This is another form of hypothetical reasoning, similar to that used
in establishing an "if &#x2026; then" statement: we temporarly assume A,
show that leads to a contradiction, and conclude that "not A"
holds.
</p>

<p>
In natural deduction, the rule reads as follows:
</p>

<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_ff94c0ca008f6e11baef670e87f7e253496279bb.png" alt="\begin{center}
\AXM{}
\UIM{A}
\noLine
\UIM{\vdots}
\noLine
\UIM{\bot}
\RL{$\lnot \mathrm{I}$}
\UIM{\lnot A}
\DP
\end{center}
" /></p>
</div>
<p>
And in Lean:
</p>
<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-6' mode="ace/mode/lean" readonly="true">variable A : Prop

example : ¬ A :=
assume H : A,
show false, from sorry
</juicy-ace-editor><div id='lean-full-code-6' style='display:none'>variable A : Prop

example : ¬ A :=
assume H : A,
show false, from sorry
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-6').text());">Try it yourself &raquo;</button></div>
</div>

<p>
[Got tired of writing here.]
</p>



<div class="figure">
<p><img src="ltxpng/02_Propositional_Logic.org.temp_8b5a7732365a9df58572ccbd050107efc4886936.png" alt="\begin{center}
\AXM{\lnot A}
\AXM{A}
\RL{$\lnot \mathrm{E}$}
\BIM{\bot}
\DP
\end{center}
" /></p>
</div>

<div class="org-src-container">
<juicy-ace-editor id='lean-juicy-ace-editor-7' mode="ace/mode/lean" readonly="true">variable A : Prop

example : false :=
have H₁ : ¬ A, from sorry,
have H₂ : A, from sorry,
show false, from H₁ H₂
</juicy-ace-editor><div id='lean-full-code-7' style='display:none'>variable A : Prop

example : false :=
have H₁ : ¬ A, from sorry,
have H₂ : A, from sorry,
show false, from H₁ H₂
</div><div class='no-print' align="left"><button type="button" onclick="invoke_leanjs($('#lean-full-code-7').text());">Try it yourself &raquo;</button></div>
</div>
<p>
Notice that the negation elimination rule is expressed in a manner
similar to implication elimination. The label asserting the negation
always comes first; by "applying" the proof of the negation to the
proof of the positive fact, we obtain a proof of falsity.
</p>

<p>
What can we say about falsity? No introduction rule. Elimination rule,
<i>ex falso</i>.
</p>

<p>
Notice that if we define <img src="ltxpng/02_Propositional_Logic.org.temp_c9fc0b9f87a04276e5274737b465662205a69233.png" alt="$\neg A$" /> to be <img src="ltxpng/02_Propositional_Logic.org.temp_9eb1ac6b4f02410feea1ca6215e48d255300a699.png" alt="$A \to \bot$" />, then the rules
for negation introduction and elimination are nothing more than
implication introduction and elimination, respectively.
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-4">
<h4 id="orgheadline6"><span class="section-number-4"> 2.3.4</span> Disjunction</h4>
<div class="outline-text-4" id="text-1-3-4">
<p>
Proof by cases.
</p>
</div>
</div>


<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7"><span class="section-number-4"> 2.3.5</span> Proof by Contradiction</h4>
</div>
</div>


<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3"> 2.4</span> Writing Proofs in Natural Deduction</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Assumption, canceling hypotheses.
</p>

<p>
Examples.
</p>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3"> 2.5</span> Writing Proofs in Lean</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Section, hypotheses. Theorem. Every statement justification.
</p>

<p>
Number lines. "this". Backticks.
</p>
</div>
</div>


<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3"> 2.6</span> Derived rules.</h3>
<div class="outline-text-3" id="text-1-6">
<p>
A or B, not A, B. 
</p>

<p>
not (A and B), not A or not B. 
</p>

<p>
Informal arguments, coarser steps, omit details, leave out justification.
</p>

<p>
In symbolic logic, "derived rules".
</p>

<p>
In Lean, naming theorems and reusing them. (Also, eventually, automation.)
</p>
</div>
</div>


<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3"> 2.7</span> Truth Tables and Semantics</h3>
</div>



<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3"> 2.8</span> A Complete Proof System</h3>
</div>


<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3"> 2.9</span> Exercises</h3>
</div>
</div>
</div>
</body>
</html>
